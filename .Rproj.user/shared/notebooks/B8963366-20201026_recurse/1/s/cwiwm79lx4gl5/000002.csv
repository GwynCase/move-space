"0","# Make a buffer around the nests."
"0","nest.buffer.400 <- st_buffer(nests, dist=400)"
"0",""
"0","# Pull out just RLK."
"0","rlk.buffer.400 <- filter(nest.buffer.400, site == 'RLK' & year == 2019)"
"0",""
"0","# Find the difference with the telemetry points."
"0","rlk.foraging.400 <- st_difference(rlk.sf, rlk.buffer.400)"
"2","attribute variables are assumed to be spatially constant throughout all geometries"
"0","# Do the annoying data frame thing again."
"0","rlk.foraging.c.400 <- rlk.foraging.400 %>% mutate(xcoord = unlist(map(rlk.foraging.400$geometry,1)),"
"0","       ycoord = unlist(map(rlk.foraging.400$geometry,2))) %>% "
"0","  data.frame() %>% "
"0","  select(xcoord, ycoord, datetime, id)"
"0",""
"0","# Calculate revisits, using 150m."
"0","foraging.visits.400 <- getRecursions(rlk.foraging.c.400, 150)"
"0",""
"0","# Make a data frame for ease."
"0","revisits.400 <- data.frame(foraging.visits.400$revisitStats)"
"0",""
"0","# Plot it."
"0","ggplot(revisits.400, aes(x=x, y=y, color=as.factor(visitIdx))) +"
"0","  geom_point() +"
"0","  scale_color_brewer(palette=""RdYlBu"", direction=-1) +"
"0","  theme_void()"
