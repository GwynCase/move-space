"0","# Make a buffer around the nests."
"0","nest.buffer <- st_buffer(nests, dist=150)"
"0",""
"0","# Pull out just RLK."
"0","rlk.buffer <- filter(nest.buffer, site == 'RLK' & year == 2019)"
"0",""
"0","# Find the difference with the telemetry points."
"0","rlk.foraging <- st_difference(rlk.sf, rlk.buffer)"
"2","attribute variables are assumed to be spatially constant throughout all geometries"
"0","# Do the annoying data frame thing again."
"0","rlk.foraging.c <- rlk.foraging %>% mutate(xcoord = unlist(map(rlk.foraging$geometry,1)),"
"0","       ycoord = unlist(map(rlk.foraging$geometry,2))) %>% "
"0","  data.frame() %>% "
"0","  select(xcoord, ycoord, datetime, id)"
"0",""
"0","# Calculate revisits, using 150m."
"0","foraging.visits <- getRecursions(rlk.foraging.c, 150)"
"0",""
"0","# And plot."
"0","plot(foraging.visits, rlk.foraging.c, axes=FALSE)"
