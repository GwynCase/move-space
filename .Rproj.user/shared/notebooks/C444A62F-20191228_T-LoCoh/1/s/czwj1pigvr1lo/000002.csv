"0","# Load some libraries."
"0","library('tidyverse')"
"0","library('dplyr')"
"0","library('lubridate')"
"0","library('sf')"
"0","library('tlocoh') # Requires the FNN package also."
"0","library('sp')"
"0","library('rgdal')"
"0","# Read in the data."
"0","df <- read.csv('../data/processed/telem_all.csv',"
"0","               header=TRUE, stringsAsFactors=FALSE) %>%"
"0","  drop_na('lat')"
"0","# Select just one site to work with."
"0","ska <- df %>% filter(site == 'SKA')"
"0","# To make a lxy object, we need datetime and coordinates."
"0","# Do the datetime thing."
"0","datetime <- ymd_hms(ska$datetime, tz='America/Vancouver')"
"0","# Do the spatial thing. This is a bit different than usual."
"0","ska.sf <- SpatialPoints(ska[ , c('lon', 'lat')],"
"0","  proj4string=CRS('+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs')) %>%"
"0","  spTransform(CRS('+proj=utm +zone=10 +datum=WGS84 +units=m +no_defs'))"
"0","ska.coords <- coordinates(ska.sf)"
"0","colnames(ska.coords) <- c('x', 'y')"
"0","# Make a lxy object."
"0","ska.lxy <- xyt.lxy(xy=ska.coords, dt=datetime, id='HAR05',"
"0","                   proj4string=CRS('+proj=utm +zone=10 +datum=WGS84 +units=m +no_defs'))"
"0","# Look at some stuff."
"0","summary(ska.lxy)"
"1","Summary of LoCoH-xy object:"
"1"," "
"1","ska.lxy"
"1"," "
"1","
"
"1","***Locations
"
