"0","# Calculate sunrise and sunset."
"0","suntimes <- getSunlightTimes(data=tl, keep=c('sunrise', 'sunset'), "
"0","                        tz='America/Vancouver')"
"0",""
"0","# Mark daytime and nighttime points."
"0","tl.breeding <- left_join(tl.breeding, suntimes, by=c('lat', 'lon', 'date')) %>%"
"0","  mutate(period=case_when("
"0","    between(hour(datetime), hour(sunrise), hour(sunset)) ~ 'day',"
"0","    TRUE ~ 'night'"
"0","  ))"
"0",""
"0","# Plot it."
"0","filter(tl.breeding, id == 'HAR09') %>% "
"0","  right_join(mtc, by=c('datetime', 'id')) %>%"
"0","  ggplot(aes(x=x, y=y, color=period)) +"
"0","  geom_point() +"
"0","  theme_void()"
